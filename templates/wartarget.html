{% extends "layout.html"%} {% block title %} Attack Choose {% endblock %} {% block body %}

<div class="templatediv">

    <div class="templatedivtopper wartopper">
        <h1 class="templatedivtitle"><span class="material-icons-outlined iconlarge">

            </span>Attack</h1>
        <div class="templatedivad"></div>
    </div>

    <div class="templatedivcontent">

        <h2 class="templatecontentheaderleft">Choose 3 Units</h2>
        <p class="templatecontentpleft">Choose which 3 enemy units to attack!</p>

        <!--only show enemy unit amount if you have spied on those units in the past 7 days-->
        <!--Successful spy operations reveal the enemy unit amounts, which the user would store and share manually. Can change later especially if wanted by popular demand. -->
        <div class="templatedivflex2 menuflex">
            <label for="1" class="templatedivflex2left unitcard">

                <ul class="bold medium">Soldiers</ul>
                {% if units["soldiers"] is defined %}
                <ul>{{ units["soldiers"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/soldier.jpg') }}" />

                <input type="checkbox" id="1" class="warcheckbox hidden" value="soldiers">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="2" class="templatedivflex2left unitcard">

                <ul class="bold medium">Tanks</ul>
                {% if units['tanks'] is defined %}
                <ul>{{ units["tanks"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/tank.jpg') }}" />

                <input type="checkbox" id="2" class="warcheckbox hidden" value="tanks">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="3" class="templatedivflex2left unitcard">

                <ul class="bold medium">Artillery</ul>
                {% if units["artillery"] %}
                <ul>{{ units["artillery"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/artillery.jpg') }}" />

                <input type="checkbox" id="3" class="warcheckbox hidden" value="artillery">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
        </div>
        <div class="templatedivflex2 menuflex">
            <label for="4" class="templatedivflex2left unitcard">

                <ul class="bold medium">Fighter Jets</ul>
                {% if units["fighters"] %}
                <ul>{{ units["fighters"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/fighterjet.jpg') }}" />

                <input type="checkbox" id="4" class="warcheckbox hidden" value="fighters">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="5" class="templatedivflex2left unitcard">

                <ul class="bold medium">Bombers</ul>
                {% if units["bombers"] %}
                <ul>{{ units["bombers"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/bomber.jpg') }}" />

                <input type="checkbox" id="5" class="warcheckbox hidden" value="bombers">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="6" class="templatedivflex2left unitcard">

                <ul class="bold medium">Apaches</ul>
                {% if units["apaches"] is defined %}
                <ul>{{ units["apaches"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/apache.jpg') }}" />

                <input type="checkbox" id="6" class="warcheckbox hidden" value="apaches">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
        </div>
        <div class="templatedivflex2 menuflex">
            <label for="7" class="templatedivflex2left unitcard">

                <ul class="bold medium">Submarines</ul>
                {% if units["submarines"] is defined %}
                <ul>{{ units["submarines"] }}</ul>
                {% else %}
                <ul>Unknown</ul>
                {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/submarine.jpg') }}" />

                <input type="checkbox" id="7" class="warcheckbox hidden" value="submarines">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="8" class="templatedivflex2left unitcard">

                <ul class="bold medium">Cruisers</ul>
                {% if units['cruisers'] is defined %}
                <ul>{{ units["cruisers"] }}</ul>
                {% else %}
                <ul>Unknown</ul> {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/cruiser.jpg') }}" />

                <input type="checkbox" id="8" class="warcheckbox hidden" value="cruisers">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
            <label for="9" class="templatedivflex2left unitcard">

                <ul class="bold medium">Destroyers</ul>
                {% if units['destroyers'] is defined  %}
                <ul>{{ units["destroyers"] }}</ul>
                {% else %}
                <ul>Unknown</ul> {% endif %}
                <img tabindex="0" class="unitimage" src="{{ url_for('static', filename='images/destroyer.jpg') }}" />

                <input type="checkbox" id="9" class="warcheckbox hidden" value="destroyers">
                <span class="material-icons-outlined unitcardcheck">
                    check_circle
                </span>

            </label>
        </div>

        <h2 id="chosenAmountChecked" class="templatecontentheadercenter">0 / 3 Units</h2>

        <script>
            $(document).ready(function() {
                $('input.warcheckbox').on('change', function(e) {
                    let checkNum = Array.from(document.querySelectorAll('input[type=checkbox]')).filter(({
                        checked
                    }) => checked).length;
                    if (checkNum > 3) {
                        this.checked = false;
                        checkNum -= 1
                    }
                    let checkElement = document.querySelector('#chosenAmountChecked');
                    checkElement.innerHTML = `${checkNum} / 3 Units`;
                })
            });
        </script>

        <div class="templatedivflex2 divflex2center">
            <div class="templatedivflex2left">

                <a class="templatedivbutton templatecenteredbutton" href="/waramount"><span
                        class="material-icons-outlined">
                        arrow_back
                    </span>Back</a>

            </div>
            <div class="templatedivflex2left">

                <!--SEND USER TO NEXT PAGE AS WELL-->
                <button id="templatedivbutton" class="templatedivbutton templatecenteredbutton" type="submit"><span
                        class="material-icons-outlined">
                        arrow_forward
                    </span>Attack</button>

            </div>
        </div>
    </div>
</div>
{% endblock %}